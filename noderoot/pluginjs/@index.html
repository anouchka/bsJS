<%IMPORT( '@head.html' );%>
<div class="middleVisual">
    <div id="visualEffect"></div>
    <img src="res/index/title.png" style="position:absolute; margin-top:100px;margin-left:60px">
    <img src="res/index/register.png" style="position:absolute; margin-top:60px;margin-left:650px">
</div>
<div><img src="res/index/bs_ex1.png"></div>
<div class="lists">
    <div style="float: left">
        <div class="list1" id="list1"><img src="res/index/list_title1.png"></div>
        <div class="list2" id="list2"><img src="res/index/list_title2.png"></div>
        <div class="recommand">
            <div class="blockLine"></div>
            <img src="res/draft/index_recommand.png"></div>
    </div>
    <div class="list3" id="list3"><img src="res/index/list_title3.png"></div>
</div>

<script>
    bs(function () {
        var game = {
            x:0, y:0, vx:0, vy:0, v:1, rv:.5, w:0, h:0, tcheck:0, div:{length:0},
            term:bs.DETECT.device =='tablet' || bs.DETECT.device=='mobile' ? 100 : 10,
            init:function(){
                var i;
                this.div.length = i = bs.DETECT.device =='tablet' || bs.DETECT.device=='mobile' ? 15 : 30;
                while( i-- ) this.div[i] = bs.dom('<div></div>' ).$( 'position','absolute', 'visibility', 'hidden', '<', '#visualEffect', 'this' );
                this.w =980,this.h = 400,this.x = this.w/2,this.y = this.h/2

                bs.dom( '#visualEffect' ).$( 'top', 45, 'position', 'absolute', 'width', this.w, 'height', this.h, 'overflow', 'hidden', 'down', function( $e ){
                    game.vx = ( $e.lx - game.x )*.1, game.vy = ($e.ly - game.y)*.1;
                } );
                bs.dom( '<div></div>' ).$( '@id', 'a', 'position', 'absolute', 'background', '#950',
                        'left', 0, 'top', 0, 'width', 1, 'height', 1, 'border-radius',5,
                        '<', '#visualEffect'
                );
            },
            end:function( $target ){
                game.div[game.div.length++] = $target.$('visibility', 'hidden', 'this');
            },
            ANI:function( $time ){
                bs.dom('#a').$( 'left', this.x, 'top', this.y );

                //particle
                if( $time > this.tcheck ){
                    this.tcheck = $time + this.term;
                    var s = bs.$ex( 10, '~', 60 );
                    var d = this.div.length ? this.div[--this.div.length] : bs.dom('<div></div>' ).$( 'position','absolute', '<', '#visualEffect', 'this' );
                    d.$( 'visibility', 'visible', 'background', 'rgb('+bs.$ex(100,'~',200)+','+bs.$ex(100,'~',200)+','+bs.$ex(100, '~',200)+')',
                            'width',1, 'height',1, 'border-radius', 10, 'left',this.x+ bs.$ex( -10, '~', 10 ) ,'top',this.y+bs.$ex( -10, '~', 10 ), 'opacity', 0.3
                    );
                    bs.ANI.tween( d,
                            'left', bs.$ex( -300, '~', 300 ) + this.x, 'top', bs.$ex( -150, '~', 150 ) + this.y,
                            'border-radius', s, 'width', s, 'height',s, 'opacity', 0,
                            'time', bs.$ex( 2, '~f', 3 ), 'end', this.end
                    );
                }
            }
        };
        game.init();
        bs.ANI.ani( game );


        var titleData = [
            'Debuger 1.2',
            'Navigation Maker 2.0',
            'Chart 2.2',
            'Templete Parser 2.0',
            'Particle 3.1',
            'Loop Gallery 1.0',
            'd3',
            'Sprite Sheet 1.0',
            'Test Method 1.0',
            'Paticle Maker 1.0',
            'Console Debuger 1.2'
        ]
        // redcamel 추가
        var i = 7, p, j = 1, code
        p = bs.dom('#list1')
        while (i--)
            code = '<div class="blockLine"></div><div><img src="res/draft/index_thumb1.png"><div></div>',
                    code += '<div class="title"><a href="">' + titleData[bs.$ex(0, '~', 10)] + '</a><div>',
                    code += '<div class="hitNum">' + bs.$ex(1, '~', 2) + ',' + bs.$ex(200, '~', 999) + '</div>',
                    code += '</div>',
                    bs.dom(code).$('<', p)

        i = 7, p = bs.dom('#list2')
        while (i--)
            code = '<div class="blockLine"></div><div><img src="res/draft/index_thumb1.png">',
                    code += '<div class="title"><a href="">' + titleData[bs.$ex(0, '~', 10)] + '</a><div>',
                    code += '<div class="hitNum">' + bs.$ex(1, '~', 2) + ',' + bs.$ex(200, '~', 999) + '</div>',
                    code += '</div>',
                    bs.dom(code).$('<', p)

        i = 5, p = bs.dom('#list3')
        while (i--) {
            var exStr = ''
            var thumb = 'res/draft/index_Bthumb_' + (j++) + '.png'
            var tagBG = 'res/thumb/bar_0' + bs.$ex(1, '~', 5) + '.jpg';
            if (i % 2 == 0) exStr = '어떤 느낌이지 한글이 되면 간만에 하려니....감떨어지는군...두줄도 써봐야 되지않겠어? 스파리이트가 뭐냐하니...그냥 스프라이트지머..';
            else  exStr = "sprite which CSS sprite system supports Frame Animations and OneFrameCut. Its a perfect Choice when you want...";

            code = '<div class="blockLine"></div>'
            code += '<div>'
            code += '   <div>'
            code += "      <div style='background-image:url(" + thumb + ");width:97px;height:97px'>"
            code += "              <div style='background-image:url(" + tagBG + ");width:92px;height:19px ;color:#fff;position:absolute;margin-top:75px;padding-left:5px;padding-top:3px;font-size:11px'>TYPE STR</div>"
            code += "     </div>"
            code += "   </div>"
            code += '   <div class="title"><a href="">Console Debuger 1.2</a><div>'
            code += '   <div class="ex">' + exStr + '</div>'
            code += '   <div class="ex2">' + 'category :' + '<a href="">Graphics</a>' + '/ By ' + '<a href="">hika</a>' + ' / 2014.02.11' + '</div>'
            code += '</div>'
            bs.dom(code).$('<', p)

        }
    })
</script>

<%IMPORT( '@foot.html' );%>